

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Plotting atom output &mdash; sisl |release| documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
        <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ASE" href="../visualization/ase/index.html" />
    <link rel="prev" title="TranSiesta Hartree correction for FFT Poisson solver" href="ts_fft.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> sisl
          

          
          </a>

          
            
            
              <div class="version">
                latest
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../other.html">Other resources</a></li>
</ul>
<p class="caption"><span class="caption-text">Publications</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cite.html">Citing sisl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../publications.html">Publications using sisl</a></li>
</ul>
<p class="caption"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/scripts.html">Command line scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rst/files.html">File formats</a></li>
</ul>
<p class="caption"><span class="caption-text">Toolboxes</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../toolbox.html">Toolboxes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="ts_fft.html">TranSiesta Hartree correction for FFT Poisson solver</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Plotting <em class="xref py py-obj">atom</em> output</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#command-line-tool">Command line tool</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Visualization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../visualization/ase/index.html">ASE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../visualization/plotly/index.html">Plotly</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API documentation</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">sisl</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../toolbox.html">Toolboxes</a> &raquo;</li>
        
      <li>Plotting <em class="xref py py-obj">atom</em> output</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/toolbox/atom_plot.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="plotting-atom-output">
<span id="toc-tool-atom-plot"></span><h1>Plotting <em class="xref py py-obj">atom</em> output<a class="headerlink" href="#plotting-atom-output" title="Permalink to this headline">¶</a></h1>
<p>Creating pseudopotentials using <a class="reference external" href="https://siesta-project.org/SIESTA_MATERIAL/Pseudos/atom_licence.html">atom</a> will often require users to
post-analyze the output of the program.</p>
<p>Here we aid this visualization process by adding a command line interface
for plotting details of the output via a simple command.</p>
<div class="section" id="command-line-tool">
<h2>Command line tool<a class="headerlink" href="#command-line-tool" title="Permalink to this headline">¶</a></h2>
<p>It may be called using</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>stoolbox atom-plot &lt;output-directory&gt;
</pre></div>
</div>
<p>which by default will create 4 plots.</p>
<a class="reference internal image-reference" href="../_images/atom_plot_output.png"><img alt="Default `stoolbox atom-plot` output" class="align-center" src="../_images/atom_plot_output.png" style="width: 500px;" /></a>
<p>It mimicks the shell commands provided by atom for plotting with some additional details.</p>
<p>By default the program will output details regarding the core-charge and valence charge
overlap (use full for determining whether core-corrections should be used).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Total charge <span class="k">in</span> atom: <span class="m">82</span>.00213
Core-correction r_pc <span class="o">[</span><span class="m">2</span>.0, <span class="m">1</span>.5, <span class="m">1</span><span class="o">]</span>: <span class="o">[</span><span class="m">0</span>.8656676967, <span class="m">0</span>.9330918445, <span class="m">1</span>.0573356051<span class="o">]</span> Bohr
</pre></div>
</div>
<p>Here it is for lead and the first line gives the total charge in the atom calculation.
Note that the deviation stems from the different integration schemes used in the toolbox
and in <a class="reference external" href="https://siesta-project.org/SIESTA_MATERIAL/Pseudos/atom_licence.html">atom</a>.
The 2nd line prints details about the where the core charge is some factor larger than
the pseudo potential valence charge. In this case it prints the radii <span class="math notranslate nohighlight">\(r_i\)</span> where
<span class="math notranslate nohighlight">\(\rho_{\mathrm{core}}(r_i)/\rho_{\mathrm{valence}}(r_i)\)</span> equals <span class="math notranslate nohighlight">\(2\)</span>, <span class="math notranslate nohighlight">\(1.5\)</span> and <span class="math notranslate nohighlight">\(1\)</span>.</p>
<p>The full overlap is printed in the title of the charge plot. It is calculated as:</p>
<div class="math notranslate nohighlight">
\[\mathcal O = \int \mathrm{min}(\rho_{\mathrm{core}}(r), \rho_{\mathrm{valence}}(r)) \mathrm dr\]</div>
<p>Suggestions and improvements to this utility is most welcome!</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../visualization/ase/index.html" class="btn btn-neutral float-right" title="ASE" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="ts_fft.html" class="btn btn-neutral float-left" title="TranSiesta Hartree correction for FFT Poisson solver" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2015-2021, Nick Papior.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>